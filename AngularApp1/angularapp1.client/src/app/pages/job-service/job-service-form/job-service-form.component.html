<mat-card>
  <mat-card-header>
    <div>
      <mat-card-title>{{ isEditMode ? 'Edit' : 'Create' }} Job Service</mat-card-title>
    </div>
  </mat-card-header>
  <mat-card-content>
    <form [formGroup]="jobServiceForm" novalidate>
      <mat-card class="form-card">
        <mat-card-header>
          <mat-card-title>Job Service Details</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <div class="row">
            <div class="col">
              <mat-form-field class="full-width">
                <mat-label>Job ID</mat-label>
                <input matInput type="number" formControlName="jobId" placeholder="Enter job ID...">
                <mat-error *ngIf="jobServiceForm.get('jobId')?.hasError('required') && jobServiceForm.get('jobId')?.touched">
                  Job ID is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="col">
              <mat-form-field class="full-width">
                <mat-label>Service Date</mat-label>
                <input matInput type="date" formControlName="serviceDate">
                <mat-error *ngIf="jobServiceForm.get('serviceDate')?.hasError('required') && jobServiceForm.get('serviceDate')?.touched">
                  Service Date is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <mat-form-field class="full-width">
                <mat-label>Description</mat-label>
                <textarea matInput rows="3" formControlName="description" placeholder="Enter service description..."></textarea>
                <mat-error *ngIf="jobServiceForm.get('description')?.hasError('required') && jobServiceForm.get('description')?.touched">
                  Description is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <mat-form-field class="full-width">
                <mat-label>Service Type</mat-label>
                <mat-select formControlName="serviceTypeId">
                  <mat-option [value]="1">Maintenance</mat-option>
                  <mat-option [value]="2">Repair</mat-option>
                  <mat-option [value]="3">Installation</mat-option>
                  <mat-option [value]="4">Inspection</mat-option>
                </mat-select>
                <mat-error *ngIf="jobServiceForm.get('serviceTypeId')?.hasError('required') && jobServiceForm.get('serviceTypeId')?.touched">
                  Service Type is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
            <div class="col">
              <mat-form-field class="full-width">
                <mat-label>Cost</mat-label>
                <input matInput type="number" formControlName="cost" placeholder="0.00">
                <mat-error *ngIf="jobServiceForm.get('cost')?.hasError('required') && jobServiceForm.get('cost')?.touched">
                  Cost is <strong>required</strong>
                </mat-error>
                <mat-error *ngIf="jobServiceForm.get('cost')?.hasError('min') && jobServiceForm.get('cost')?.touched">
                  Cost must be greater than or equal to 0
                </mat-error>
              </mat-form-field>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <mat-form-field class="full-width">
                <mat-label>Status</mat-label>
                <mat-select formControlName="statusId">
                  <mat-option [value]="1">Active</mat-option>
                  <mat-option [value]="2">Inactive</mat-option>
                  <mat-option [value]="3">Pending</mat-option>
                  <mat-option [value]="4">Completed</mat-option>
                </mat-select>
                <mat-error *ngIf="jobServiceForm.get('statusId')?.hasError('required') && jobServiceForm.get('statusId')?.touched">
                  Status is <strong>required</strong>
                </mat-error>
              </mat-form-field>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </form>
  </mat-card-content>

  <mat-card-actions>
    <button mat-raised-button color="primary" (click)="onSubmit()" [disabled]="!jobServiceForm.valid">
      <mat-icon>{{ isEditMode ? 'save' : 'add' }}</mat-icon>
      {{ isEditMode ? 'Update' : 'Create' }}
    </button>
    <button mat-raised-button (click)="router.navigate(['/job-service'])">
      <mat-icon>cancel</mat-icon>
      Cancel
    </button>
  </mat-card-actions>
</mat-card>
